<!-- Navigation Bar -->
<app-navbar></app-navbar>

<!-- Hero Section -->
<section class="hero-section" style="margin-top: 90px;">
  <div class="hero-container">
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">
          Find Your <span class="highlight">Medicine</span><br>
          At The <span class="highlight">Nearest Pharmacy</span>
        </h1>
        <p class="hero-description">
          Locate medicines quickly and easily with our smart pharmacy finder. 
          Get recommendations based on your location and symptoms.
        </p>
        <div class="hero-actions">
          <button routerLink="/auth/convert" class="btn btn-primary">
            <i class="fas fa-robot"></i>
            Try AI Assistant
          </button>
          <button routerLink="/auth/search" class="btn btn-secondary">
            <i class="fas fa-search"></i>
            Browse Products
          </button>
        </div>
        
        <!-- Quick Stats -->
        <div class="hero-stats">
          <div class="stat-item">
            <i class="fas fa-store"></i>
            <span class="stat-number">500+</span>
            <span class="stat-label">Pharmacies</span>
          </div>
          <div class="stat-item">
            <i class="fas fa-pills"></i>
            <span class="stat-number">10K+</span>
            <span class="stat-label">Medicines</span>
          </div>
          <div class="stat-item">
            <i class="fas fa-clock"></i>
            <span class="stat-number">24/7</span>
            <span class="stat-label">Available</span>
          </div>
        </div>
      </div>
      
      <div class="hero-image">
        <img src="assets/images/hero-image.jpeg" alt="Pharmacy Services" class="main-image">
        <div class="floating-cards">
          <div class="floating-card card-1">
            <i class="fas fa-map-marker-alt"></i>
            <span>Nearest Pharmacy</span>
          </div>
          <div class="floating-card card-2">
            <i class="fas fa-truck"></i>
            <span>Free Delivery</span>
          </div>
          <div class="floating-card card-3">
            <i class="fas fa-shield-alt"></i>
            <span>100% Authentic</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Categories Section -->
<section class="categories-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Shop by Category</h2>
      <p class="section-subtitle">Find what you need from our comprehensive medical categories</p>
    </div>
    
    <div class="categories-grid">
      <div 
        *ngFor="let category of topCategories" 
        class="category-card"
        (click)="navigateToCategory(category.value)">
        <div class="category-image">
          <img [src]="category.image" [alt]="category.name">
        </div>
        <div class="category-content">
          <h3 class="category-name">{{ category.name }}</h3>
          <p class="category-description">{{ category.description }}</p>
          <span class="category-arrow">
            <i class="fas fa-arrow-right"></i>
          </span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Products Section -->
<section class="featured-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Featured Products</h2>
      <p class="section-subtitle">Popular medicines and health products</p>
    </div>
    
    <div class="products-grid">
      <div *ngFor="let product of featuredProducts" class="product-card">
        <div class="product-image">
          <img [src]="product.imageUrl" [alt]="product.name">
          <div class="product-badges">
            <span *ngIf="product.prescription" class="badge prescription">Rx</span>
            <span *ngIf="product.stock < 10" class="badge low-stock">Low Stock</span>
            <span class="badge seller" [class]="product.sellerType">
              {{ product.sellerType === 'rxclose' ? 'RxClose' : 'Pharmacy' }}
            </span>
          </div>
          <button class="wishlist-btn">
            <i class="far fa-heart"></i>
          </button>
        </div>
        
        <div class="product-content">
          <h3 class="product-name">{{ product.name }}</h3>
          <p class="product-description">{{ product.description }}</p>
          
          <div class="product-pharmacy" *ngIf="product.sellerName">
            <i class="fas fa-store"></i>
            <span>{{ product.sellerName }}</span>
            <span *ngIf="product.distance" class="distance">{{ product.distance }}km</span>
          </div>
          
          <div class="product-footer">
            <div class="product-price">
              <span class="price">{{ product.price | currency:'EGP':'symbol':'1.2-2' }}</span>
              <span class="stock">{{ product.stock }} in stock</span>
            </div>
            
            <div class="product-actions">
              <button (click)="viewProductDetails(product)" class="btn btn-outline">
                <i class="fas fa-eye"></i>
              </button>
              <button (click)="addToCart(product)" class="btn btn-primary">
                <i class="fas fa-cart-plus"></i>
                Add to Cart
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="section-footer">
      <button routerLink="/auth/search" class="btn btn-secondary">
        View All Products
        <i class="fas fa-arrow-right"></i>
      </button>
    </div>
  </div>
</section>

<!-- Services Section -->
<section class="services-section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">Our Services</h2>
      <p class="section-subtitle">Everything you need for your health and wellness</p>
    </div>
    
    <div class="services-grid">
      <div class="service-card">
        <div class="service-icon">
          <img src="assets/images/b8c61077dde538c28594536abf7043e7.png" alt="Search">
        </div>
        <div class="service-content">
          <h3 class="service-title">Smart Medicine Search</h3>
          <p class="service-description">
            Find any medicine instantly with our intelligent search system. 
            We'll show you the nearest pharmacies with your needed medication.
          </p>
          <button routerLink="/auth/search" class="service-btn">
            Start Searching <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
      
      <div class="service-card">
        <div class="service-icon">
          <img src="assets/images/7ed5e05ba94669750d0121d783608ff7.png" alt="AI Assistant">
        </div>
        <div class="service-content">
          <h3 class="service-title">AI Health Assistant</h3>
          <p class="service-description">
            Get personalized medicine recommendations based on your symptoms. 
            Our AI assistant helps you find the right treatment.
          </p>
          <button routerLink="/auth/convert" class="service-btn">
            Chat with AI <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
      
      <div class="service-card">
        <div class="service-icon">
          <img src="assets/images/fb999226995e85e2230a890fbfc5fbde.png" alt="Delivery">
        </div>
        <div class="service-content">
          <h3 class="service-title">Fast Delivery</h3>
          <p class="service-description">
            Get your medicines delivered to your doorstep quickly and safely. 
            Track your order in real-time.
          </p>
          <button class="service-btn">
            Learn More <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section class="about-section">
  <div class="container">
    <div class="about-content">
      <div class="about-text">
        <h2 class="about-title">About RxClose</h2>
        <p class="about-description">
          We're revolutionizing healthcare access in Egypt by connecting patients 
          with the nearest pharmacies and providing intelligent medicine recommendations. 
          Our platform uses cutting-edge technology to ensure you get the right medication 
          at the right time.
        </p>
        <div class="about-features">
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Licensed Pharmacies Only</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Real-time Stock Updates</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>AI-Powered Recommendations</span>
          </div>
          <div class="feature-item">
            <i class="fas fa-check-circle"></i>
            <span>Secure & Private</span>
          </div>
        </div>
        <button routerLink="/auth/contact" class="btn btn-primary">
          Learn More About Us
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
      <div class="about-image">
        <img src="assets/images/01c1cc4e05239ebc2d5981b0dba41fdf.png" alt="About Us">
      </div>
    </div>
  </div>
</section>

<!-- Chat Widget -->
<app-chat-widget></app-chat-widget>

<!-- Loading Overlay -->
<div *ngIf="isSearching" class="loading-overlay">
  <div class="loading-spinner">
    <i class="fas fa-spinner fa-spin"></i>
    <p>Searching for medicines...</p>
  </div>
</div>



